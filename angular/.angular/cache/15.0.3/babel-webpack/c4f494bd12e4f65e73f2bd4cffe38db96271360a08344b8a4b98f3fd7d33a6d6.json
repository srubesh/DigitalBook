{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../_services/user.service\";\nimport * as i2 from \"../_services/token-storage.service\";\nimport * as i3 from \"@angular/common\";\nfunction ReadBookComponent_div_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"header\", 4)(2, \"h5\", 5);\n    i0.ɵɵtext(3, \" Read Book \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 6)(5, \"div\", 7)(6, \"h3\")(7, \"strong\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(9, \"div\", 8)(10, \"p\")(11, \"strong\");\n    i0.ɵɵtext(12, \"Content:\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"p\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(ctx_r3.books.title);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.books.content, \" \");\n  }\n}\nfunction ReadBookComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵtemplate(1, ReadBookComponent_div_0_div_1_Template, 15, 2, \"div\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.books.active);\n  }\n}\nfunction ReadBookComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \" Please login.\\n\");\n  }\n}\nexport class ReadBookComponent {\n  constructor(userService, tokenStorageService) {\n    this.userService = userService;\n    this.tokenStorageService = tokenStorageService;\n    this.books = [];\n    this.isLoggedIn = false;\n    this.readerEmail = \"\";\n    this.readerId = 0;\n    this.message = null;\n    this.bookId = \"\";\n  }\n  ngOnInit() {\n    this.isLoggedIn = !!this.tokenStorageService.getToken();\n    if (this.isLoggedIn) {\n      const user = this.tokenStorageService.getUser();\n      this.readerEmail = user.email;\n      this.readerId = user.id;\n    }\n    this.bookId = sessionStorage.getItem(\"readBookId\");\n    this.userService.getBookContent(this.readerEmail, this.readerId + \"_\" + this.bookId).subscribe(data => {\n      this.books = data;\n      console.log(this.books);\n      //this.display(this.books);\n    }, err => {\n      //this.content = JSON.parse(err.error).message;\n      this.content = err;\n      console.log(this.content);\n    });\n  }\n}\nReadBookComponent.ɵfac = function ReadBookComponent_Factory(t) {\n  return new (t || ReadBookComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.TokenStorageService));\n};\nReadBookComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ReadBookComponent,\n  selectors: [[\"app-read-book\"]],\n  decls: 3,\n  vars: 2,\n  consts: [[\"class\", \"container\", 4, \"ngIf\", \"ngIfElse\"], [\"loggedOut\", \"\"], [1, \"container\"], [4, \"ngIf\"], [1, \"jumbotron\"], [2, \"text-align\", \"center\"], [1, \"card\"], [1, \"card-header\"], [1, \"card-body\"]],\n  template: function ReadBookComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, ReadBookComponent_div_0_Template, 2, 1, \"div\", 0);\n      i0.ɵɵtemplate(1, ReadBookComponent_ng_template_1_Template, 1, 0, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    }\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.books)(\"ngIfElse\", _r1);\n    }\n  },\n  dependencies: [i3.NgIf]\n});","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}