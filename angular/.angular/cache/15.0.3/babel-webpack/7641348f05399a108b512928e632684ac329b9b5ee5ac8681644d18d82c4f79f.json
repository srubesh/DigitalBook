{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../_services/user.service\";\nimport * as i2 from \"../_services/token-storage.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction SearchBooksComponent_form_3_option_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 24);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const user_r12 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(user_r12.username);\n  }\n}\nfunction SearchBooksComponent_form_3_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25);\n    i0.ɵɵtext(1, \" Author is required! \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SearchBooksComponent_form_3_option_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 26);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const book_r13 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(book_r13.title);\n  }\n}\nfunction SearchBooksComponent_form_3_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25);\n    i0.ɵɵtext(1, \" Title is required! \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SearchBooksComponent_form_3_div_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25);\n    i0.ɵɵtext(1, \" Publisher is required! \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SearchBooksComponent_form_3_div_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25);\n    i0.ɵɵtext(1, \" Released Date is required! \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SearchBooksComponent_form_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 3, 4);\n    i0.ɵɵlistener(\"ngSubmit\", function SearchBooksComponent_form_3_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const _r1 = i0.ɵɵreference(1);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(_r1.form.valid && ctx_r14.searchBook());\n    });\n    i0.ɵɵelementStart(2, \"div\", 5)(3, \"h4\");\n    i0.ɵɵtext(4, \"Search Books\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 6)(6, \"label\", 7)(7, \"b\");\n    i0.ɵɵtext(8, \"Author\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"select\", 8, 9);\n    i0.ɵɵlistener(\"ngModelChange\", function SearchBooksComponent_form_3_Template_select_ngModelChange_9_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.search.author = $event);\n    })(\"change\", function SearchBooksComponent_form_3_Template_select_change_9_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.getAllBooks());\n    });\n    i0.ɵɵelementStart(11, \"option\", 10);\n    i0.ɵɵtext(12, \"Select Author\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(13, SearchBooksComponent_form_3_option_13_Template, 2, 1, \"option\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(14, SearchBooksComponent_form_3_div_14_Template, 2, 0, \"div\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(15, \"br\");\n    i0.ɵɵelementStart(16, \"div\", 6)(17, \"label\", 13)(18, \"b\");\n    i0.ɵɵtext(19, \"Title\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"select\", 14, 15);\n    i0.ɵɵlistener(\"ngModelChange\", function SearchBooksComponent_form_3_Template_select_ngModelChange_20_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.search.title = $event);\n    });\n    i0.ɵɵelementStart(22, \"option\", 10);\n    i0.ɵɵtext(23, \"Select Title\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(24, SearchBooksComponent_form_3_option_24_Template, 2, 1, \"option\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(25, SearchBooksComponent_form_3_div_25_Template, 2, 0, \"div\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(26, \"br\");\n    i0.ɵɵelementStart(27, \"div\", 6)(28, \"label\", 17)(29, \"b\");\n    i0.ɵɵtext(30, \"Publisher\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(31, \"input\", 18, 19);\n    i0.ɵɵlistener(\"ngModelChange\", function SearchBooksComponent_form_3_Template_input_ngModelChange_31_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r19.search.publisher = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(33, SearchBooksComponent_form_3_div_33_Template, 2, 0, \"div\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(34, \"br\");\n    i0.ɵɵelementStart(35, \"div\", 6)(36, \"label\", 20)(37, \"b\");\n    i0.ɵɵtext(38, \"Released Date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(39, \"input\", 21, 22);\n    i0.ɵɵlistener(\"ngModelChange\", function SearchBooksComponent_form_3_Template_input_ngModelChange_39_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.search.releasedDate = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(41, SearchBooksComponent_form_3_div_41_Template, 2, 0, \"div\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(42, \"br\");\n    i0.ɵɵelementStart(43, \"div\", 6)(44, \"button\", 23);\n    i0.ɵɵtext(45, \" Search \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const _r1 = i0.ɵɵreference(1);\n    const _r2 = i0.ɵɵreference(10);\n    const _r5 = i0.ɵɵreference(21);\n    const _r8 = i0.ɵɵreference(32);\n    const _r10 = i0.ɵɵreference(40);\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.search.author);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.users);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r2.errors && _r1.submitted);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.search.title);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.books);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r5.errors && _r5.touched);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.search.publisher);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r8.errors && _r1.submitted);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.search.releasedDate);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r10.errors && _r1.submitted);\n  }\n}\nexport class SearchBooksComponent {\n  constructor(userService, tokenStorageService) {\n    this.userService = userService;\n    this.tokenStorageService = tokenStorageService;\n    this.isLoggedIn = false;\n    this.readerEmail = \"\";\n    this.readerId = 0;\n    this.users = [];\n    this.books = [];\n    this.search = {\n      title: \"\",\n      author: 0,\n      publisher: \"\",\n      releasedDate: \"\"\n    };\n  }\n  ngOnInit() {\n    this.isLoggedIn = !!this.tokenStorageService.getToken();\n    if (this.isLoggedIn) {\n      const user = this.tokenStorageService.getUser();\n      this.readerEmail = user.email;\n      this.readerId = user.id;\n    }\n    this.userService.getAllAuthors().subscribe(data => {\n      this.users = data;\n      //this.display(this.books);\n    }, err => {\n      this.content = JSON.parse(err.error).message;\n    });\n  }\n  getAllBooks() {\n    alert(this.search.author);\n    this.userService.getAllBooks(this.search.author).subscribe(data => {\n      this.books = data;\n      //this.display(this.books);\n    }, err => {\n      this.content = JSON.parse(err.error).message;\n    });\n  }\n  searchBook() {\n    console.log(this.search.title);\n    console.log(this.search.author);\n    console.log(this.search.publisher);\n    console.log(this.search.releasedDate);\n  }\n}\nSearchBooksComponent.ɵfac = function SearchBooksComponent_Factory(t) {\n  return new (t || SearchBooksComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.TokenStorageService));\n};\nSearchBooksComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: SearchBooksComponent,\n  selectors: [[\"app-search-books\"]],\n  decls: 5,\n  vars: 1,\n  consts: [[1, \"col-md-12\"], [1, \"card\", \"container\", \"d-flex\", \"justify-content-center\"], [\"name\", \"myForm\", \"novalidate\", \"\", 3, \"ngSubmit\", 4, \"ngIf\"], [\"name\", \"myForm\", \"novalidate\", \"\", 3, \"ngSubmit\"], [\"myForm\", \"ngForm\"], [2, \"text-align\", \"center\"], [1, \"form-group\"], [\"for\", \"author\"], [\"name\", \"author\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"author\", \"ngModel\"], [\"disabled\", \"\"], [\"value\", \"user.id\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"alert alert-danger\", \"role\", \"alert\", 4, \"ngIf\"], [\"for\", \"title\"], [\"name\", \"title\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"title\", \"ngModel\"], [\"value\", \"book.id\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"publisher\"], [\"type\", \"text\", \"name\", \"publisher\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"publisher\", \"ngModel\"], [\"for\", \"releasedDate\"], [\"type\", \"date\", \"name\", \"releasedDate\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"releasedDate\", \"ngModel\"], [1, \"btn\", \"btn-primary\", \"btn-block\", \"float-end\"], [\"value\", \"user.id\"], [\"role\", \"alert\", 1, \"alert\", \"alert-danger\"], [\"value\", \"book.id\"]],\n  template: function SearchBooksComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"br\");\n      i0.ɵɵelementStart(1, \"div\", 0)(2, \"div\", 1);\n      i0.ɵɵtemplate(3, SearchBooksComponent_form_3_Template, 46, 10, \"form\", 2);\n      i0.ɵɵelement(4, \"br\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.isLoggedIn);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i4.ɵNgNoValidate, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","ctx_r14","SearchBooksComponent","constructor","userService","tokenStorageService","title","author","publisher","releasedDate","ngOnInit","isLoggedIn","getToken","user","getUser","readerEmail","email","readerId","id","getAllAuthors","subscribe","data","users","err","content","JSON","parse","error","message","getAllBooks","alert","search","books","searchBook","console","log","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["R:\\Rubesh\\Personal\\Documents\\Work Experience\\03_Cognizant\\H&T Training\\Workspace\\Angular\\DigitalBook\\src\\app\\search-books\\search-books.component.html","R:\\Rubesh\\Personal\\Documents\\Work Experience\\03_Cognizant\\H&T Training\\Workspace\\Angular\\DigitalBook\\src\\app\\search-books\\search-books.component.ts"],"sourcesContent":["<br>\n<div class=\"col-md-12\">\n    <div class=\"card container  d-flex justify-content-center\">\n        <form name=\"myForm\" *ngIf=\"isLoggedIn\" #myForm=\"ngForm\" novalidate\n            (ngSubmit)=\"myForm.form.valid && searchBook()\">\n            <div style=\"text-align: center;\">\n                <h4>Search Books</h4>\n            </div>\n            <div class=\"form-group\">\n                <label for=\"author\"> <b>Author</b> </label>\n                <select class=\"form-control\" name=\"author\" [(ngModel)]=\"search.author\" required #author=\"ngModel\"\n                (change) = \"getAllBooks()\">\n                    <option disabled >Select Author</option>\n                    <option *ngFor=\"let user of users\" value=\"user.id\">{{user.username}}</option>\n                </select>\n                <!-- <input type=\"text\" class=\"form-control\" name=\"author\" [(ngModel)]=\"search.author\" required\n                    #author=\"ngModel\" /> -->\n                <div class=\"alert alert-danger\" role=\"alert\" *ngIf=\"author.errors && myForm.submitted\">\n                    Author is required!\n                </div>\n            </div>\n            <br>\n            <div class=\"form-group\">\n                <label for=\"title\"> <b>Title</b> </label>\n                <select class=\"form-control\" name=\"title\" [(ngModel)]=\"search.title\" required #title=\"ngModel\">\n                    <option disabled >Select Title</option>\n                    <option *ngFor=\"let book of books\" value=\"book.id\">{{book.title}}</option>\n                </select>\n                <!-- <input type=\"text\" class=\"form-control\" name=\"title\" [(ngModel)]=\"search.title\" required\n                    #title=\"ngModel\" /> -->\n                <div class=\"alert alert-danger\" role=\"alert\" *ngIf=\"title.errors && title.touched\">\n                    Title is required!\n                </div>\n            </div>\n            <br>\n            <div class=\"form-group\">\n                <label for=\"publisher\"> <b>Publisher</b> </label>\n                <input type=\"text\" class=\"form-control\" name=\"publisher\" [(ngModel)]=\"search.publisher\" required\n                    #publisher=\"ngModel\" />\n                <div class=\"alert alert-danger\" role=\"alert\" *ngIf=\"publisher.errors && myForm.submitted\">\n                    Publisher is required!\n                </div>\n            </div>\n            <br>\n            <div class=\"form-group\">\n                <label for=\"releasedDate\"> <b>Released Date</b> </label>\n                <input type=\"date\" class=\"form-control\" name=\"releasedDate\" [(ngModel)]=\"search.releasedDate\" required\n                    #releasedDate=\"ngModel\" />\n                <div class=\"alert alert-danger\" role=\"alert\" *ngIf=\"releasedDate.errors && myForm.submitted\">\n                    Released Date is required!\n                </div>\n            </div>\n            <br>\n            <div class=\"form-group\">\n                <button class=\"btn btn-primary btn-block float-end\">\n                    Search\n                </button>\n            </div>\n\n        </form>\n        <br>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from '../_services/auth.service';\nimport { TokenStorageService } from '../_services/token-storage.service';\nimport { UserService } from '../_services/user.service';\n\n@Component({\n  selector: 'app-search-books',\n  templateUrl: './search-books.component.html',\n  styleUrls: ['./search-books.component.css']\n})\nexport class SearchBooksComponent implements OnInit {\n\n  constructor(private userService: UserService, private tokenStorageService: TokenStorageService) { }\n  \n  isLoggedIn = false;\n  readerEmail : string = \"\";\n  readerId : number = 0;\n  users :any = [];\n  content?: string[];\n  books :any = [];\n  \n  search = {\n    title : \"\",\n    author : 0,\n    publisher : \"\",\n    releasedDate : \"\"\n  }\n\n  ngOnInit(): void {\n    this.isLoggedIn = !!this.tokenStorageService.getToken();\n    if (this.isLoggedIn) {\n      const user = this.tokenStorageService.getUser();\n      this.readerEmail = user.email;\n      this.readerId = user.id;\n    }\n\n    this.userService.getAllAuthors().subscribe(\n      data => {\n      this.users = data;\n      //this.display(this.books);\n      },\n      err => {\n        this.content = JSON.parse(err.error).message;\n      }\n    );\n    \n  }\n\n  getAllBooks(){\n    alert(this.search.author);\n    this.userService.getAllBooks(this.search.author).subscribe(\n      data => {\n      this.books = data;\n      //this.display(this.books);\n      },\n      err => {\n        this.content = JSON.parse(err.error).message;\n      }\n    );\n  }\n\n  searchBook(){\n    console.log(this.search.title);\n    console.log(this.search.author);\n    console.log(this.search.publisher);\n    console.log(this.search.releasedDate);\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}